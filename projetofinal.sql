--
-- PostgreSQL database dump
--

-- Dumped from database version 12.15 (Ubuntu 12.15-0ubuntu0.20.04.1)
-- Dumped by pg_dump version 12.15 (Ubuntu 12.15-0ubuntu0.20.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: registrar_historico(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.registrar_historico() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    IF (TG_OP = 'INSERT') THEN
        INSERT INTO historicops (id_pessoa, id_registro, data_inicio, data_fim, status)
        VALUES (NEW.perfil_id, NEW.id_registro, CURRENT_TIMESTAMP, NULL, 'Inserido');
    ELSIF (TG_OP = 'DELETE') THEN
        IF NOT EXISTS (
            SELECT 1
            FROM historicops
            WHERE id_pessoa = OLD.perfil_id AND id_registro = OLD.id_registro AND data_fim IS NULL
        ) THEN
            INSERT INTO historicops (id_pessoa, id_registro, data_inicio, data_fim, status)
            VALUES (OLD.perfil_id, OLD.id_registro, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Deletado');
        END IF;
    END IF;
    RETURN NULL;
END;
$$;


ALTER FUNCTION public.registrar_historico() OWNER TO postgres;

--
-- Name: verificar_autorizacao(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.verificar_autorizacao() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    IF (NEW.codigo_servico = '000' AND EXISTS (SELECT 1 FROM perfil WHERE id_perfil = NEW.perfil_id AND codigo_perfil = 'DOC')) THEN
        RETURN NEW;
    ELSIF (NEW.codigo_servico = '001' AND EXISTS (SELECT 1 FROM perfil WHERE id_perfil = NEW.perfil_id AND codigo_perfil = 'FUNC')) THEN
        RETURN NEW;
    ELSIF (NEW.codigo_servico = '002' AND EXISTS (SELECT 1 FROM perfil WHERE id_perfil = NEW.perfil_id AND codigo_perfil = 'ALUNO')) THEN
        RETURN NEW;
    ELSE
        RAISE EXCEPTION 'Acesso não autorizado!';
    END IF;
END;
$$;


ALTER FUNCTION public.verificar_autorizacao() OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: aluno; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.aluno (
    id_aluno integer NOT NULL,
    notas numeric(4,2),
    media_ponderada numeric(4,2),
    CONSTRAINT media_ponderada_check CHECK (((media_ponderada >= (0)::numeric) AND (media_ponderada <= (10)::numeric))),
    CONSTRAINT notas_check CHECK (((notas >= (0)::numeric) AND (notas <= (10)::numeric)))
);


ALTER TABLE public.aluno OWNER TO postgres;

--
-- Name: disciplina; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.disciplina (
    id_disciplina integer NOT NULL,
    id_coordenador integer NOT NULL,
    "descrição" character varying(100),
    codigo_disciplina character varying(50),
    nome_disciplina character varying(100)
);


ALTER TABLE public.disciplina OWNER TO postgres;

--
-- Name: docente; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.docente (
    id_docente integer NOT NULL,
    salario numeric(10,2),
    turmas character varying(100),
    especializacao character varying(100)
);


ALTER TABLE public.docente OWNER TO postgres;

--
-- Name: funcionario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.funcionario (
    id_funcionario integer NOT NULL,
    funcao character varying(100),
    salario numeric(10,2)
);


ALTER TABLE public.funcionario OWNER TO postgres;

--
-- Name: historicops; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.historicops (
    id_pessoa integer NOT NULL,
    id_registro integer NOT NULL,
    data_inicio date,
    data_fim date,
    status character varying(100)
);


ALTER TABLE public.historicops OWNER TO postgres;

--
-- Name: oferecimento; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oferecimento (
    id_disciplina integer NOT NULL,
    horas integer,
    data_inicio date NOT NULL,
    data_fim date NOT NULL,
    id_oferecimento integer NOT NULL
);


ALTER TABLE public.oferecimento OWNER TO postgres;

--
-- Name: oferecimento_aluno; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oferecimento_aluno (
    id_oferecimento integer NOT NULL,
    id_aluno integer NOT NULL
);


ALTER TABLE public.oferecimento_aluno OWNER TO postgres;

--
-- Name: oferecimento_docente; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.oferecimento_docente (
    id_oferecimento integer NOT NULL,
    id_docente integer NOT NULL
);


ALTER TABLE public.oferecimento_docente OWNER TO postgres;

--
-- Name: oferecimento_id_oferecimento_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.oferecimento_id_oferecimento_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.oferecimento_id_oferecimento_seq OWNER TO postgres;

--
-- Name: oferecimento_id_oferecimento_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.oferecimento_id_oferecimento_seq OWNED BY public.oferecimento.id_oferecimento;


--
-- Name: perfil; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.perfil (
    id_perfil integer NOT NULL,
    nome_perfil character varying(100),
    codigo_perfil character varying(50)
);


ALTER TABLE public.perfil OWNER TO postgres;

--
-- Name: perfil_servico; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.perfil_servico (
    perfil_id integer NOT NULL,
    servico_id integer NOT NULL,
    codigo_servico character varying(3),
    nome_perfil character varying(20),
    id_registro integer NOT NULL
);


ALTER TABLE public.perfil_servico OWNER TO postgres;

--
-- Name: perfil_servico_id_registro_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.perfil_servico_id_registro_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.perfil_servico_id_registro_seq OWNER TO postgres;

--
-- Name: perfil_servico_id_registro_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.perfil_servico_id_registro_seq OWNED BY public.perfil_servico.id_registro;


--
-- Name: pessoa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.pessoa (
    id_pessoa integer NOT NULL,
    cpf character(11) NOT NULL,
    nome character varying(100) NOT NULL,
    endereco character varying(100),
    instituicao character varying(100),
    data_de_nascimento date,
    senha character varying(100) NOT NULL,
    tipo_pessoa character varying(20) NOT NULL,
    CONSTRAINT pessoa_tipo_pessoa_check CHECK (((tipo_pessoa)::text = ANY ((ARRAY['aluno'::character varying, 'docente'::character varying, 'funcionário'::character varying])::text[])))
);


ALTER TABLE public.pessoa OWNER TO postgres;

--
-- Name: servico; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.servico (
    id_serv integer NOT NULL,
    codigo_serv character varying(50),
    descricao character varying(100),
    tipo_servico character varying(20) NOT NULL,
    CONSTRAINT servicos_tipo_servico_check CHECK (((tipo_servico)::text = ANY ((ARRAY['visualização'::character varying, 'inserção'::character varying, 'alteração'::character varying, 'remoção'::character varying])::text[])))
);


ALTER TABLE public.servico OWNER TO postgres;

--
-- Name: oferecimento id_oferecimento; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento ALTER COLUMN id_oferecimento SET DEFAULT nextval('public.oferecimento_id_oferecimento_seq'::regclass);


--
-- Name: perfil_servico id_registro; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.perfil_servico ALTER COLUMN id_registro SET DEFAULT nextval('public.perfil_servico_id_registro_seq'::regclass);


--
-- Data for Name: aluno; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.aluno (id_aluno, notas, media_ponderada) FROM stdin;
2000001	8.50	8.50
2000002	7.20	7.20
2000003	9.00	9.00
2000004	8.80	8.80
2000005	7.50	7.50
2000006	9.75	9.25
2000007	8.50	8.75
2000008	6.25	7.50
2000009	7.00	8.00
2000010	9.00	9.50
2000011	7.75	8.25
2000012	8.00	8.50
2000013	6.50	7.75
2000014	9.25	9.00
2000015	7.50	8.00
2000016	8.75	8.75
2000017	9.50	9.25
2000018	7.25	7.50
2000019	8.25	8.25
2000020	6.75	7.25
2000021	8.50	8.75
2000022	9.00	9.00
2000023	7.75	8.25
2000024	9.25	9.25
2000025	7.50	7.75
2000026	8.75	8.50
2000027	9.50	9.50
2000028	6.25	7.00
2000029	8.00	8.50
2000030	6.50	7.25
\.


--
-- Data for Name: disciplina; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.disciplina (id_disciplina, id_coordenador, "descrição", codigo_disciplina, nome_disciplina) FROM stdin;
218	1000001	Descrição da disciplina Técnicas de Programação II	MAC0218	Técnicas de Programação II
413	1000002	Descrição da disciplina Tópicos Avançados de Programação Orientada a Objetos	MAC0413	Tópicos Avançados de Programação Orientada a Objetos
472	1000003	Descrição da disciplina Laboratório de Métodos Ágeis	MAC0472	Laboratório de Métodos Ágeis
426	1000004	Descrição da disciplina Sistemas de Bancos de Dados	MAC0426	Sistemas de Bancos de Dados
439	1000005	Descrição da disciplina Laboratório de Banco de Dados	MAC0439	Laboratório de Banco de Dados
459	1000001	Descrição da disciplina Ciência e Engenharia de Dados	MAC0459	Ciência e Engenharia de Dados
219	1000002	Descrição da disciplina Programação Concorrente e Paralela	MAC0219	Programação Concorrente e Paralela
352	1000003	Descrição da disciplina Redes de Computadores e Sistemas Distribuídos	MAC0352	Redes de Computadores e Sistemas Distribuídos
332	1000004	Descrição da disciplina Engenharia de Software	MAC0332	Engenharia de Software
467	1000005	Descrição da disciplina Empreendedorismo Digital	MAC0467	Empreendedorismo Digital
463	1000001	Descrição da disciplina Computação Móvel	MAC0463	Computação Móvel
346	1000002	Descrição da disciplina Programação para Jogos Digitais	MAC0346	Programação para Jogos Digitais
470	1000003	Descrição da disciplina Desenvolvimento de Software Livre	MAC0470	Desenvolvimento de Software Livre
\.


--
-- Data for Name: docente; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.docente (id_docente, salario, turmas, especializacao) FROM stdin;
1000001	5000.00	Turma A	Especialização 1
1000002	4500.00	Turma B	Especialização 2
1000003	5500.00	Turma C	Especialização 3
1000004	4800.00	Turma D	Especialização 4
1000005	5200.00	Turma E	Especialização 5
1000006	5000.00	Turma A	Especialização em Matemática
\.


--
-- Data for Name: funcionario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.funcionario (id_funcionario, funcao, salario) FROM stdin;
3000001	Gerente	5000.00
3000002	Analista	4000.00
3000003	Assistente Administrativo	3500.00
3000004	Desenvolvedor	4500.00
3000005	Contador	3800.00
\.


--
-- Data for Name: historicops; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.historicops (id_pessoa, id_registro, data_inicio, data_fim, status) FROM stdin;
1000001	1	2023-07-11	\N	Inserido
3000001	2	2023-07-11	\N	Inserido
2000001	3	2023-07-11	\N	Inserido
\.


--
-- Data for Name: oferecimento; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oferecimento (id_disciplina, horas, data_inicio, data_fim, id_oferecimento) FROM stdin;
218	60	1980-01-01	1980-12-31	1
218	60	1981-01-01	1981-12-31	2
218	60	1982-01-01	1982-12-31	3
218	60	1983-01-01	1983-12-31	4
218	60	1984-01-01	1984-12-31	5
218	60	1985-01-01	1985-12-31	6
218	60	1986-01-01	1986-12-31	7
218	60	1987-01-01	1987-12-31	8
218	60	1988-01-01	1988-12-31	9
218	60	1989-01-01	1989-12-31	10
413	60	1990-01-01	1990-12-31	11
413	60	1991-01-01	1991-12-31	12
413	60	1992-01-01	1992-12-31	13
413	60	1993-01-01	1993-12-31	14
413	60	1994-01-01	1994-12-31	15
413	60	1995-01-01	1995-12-31	16
413	60	1996-01-01	1996-12-31	17
413	60	1997-01-01	1997-12-31	18
413	60	1998-01-01	1998-12-31	19
413	60	1999-01-01	1999-12-31	20
472	60	2000-01-01	2000-12-31	21
472	60	2001-01-01	2001-12-31	22
472	60	2002-01-01	2002-12-31	23
472	60	2003-01-01	2003-12-31	24
472	60	2004-01-01	2004-12-31	25
472	60	2005-01-01	2005-12-31	26
472	60	2006-01-01	2006-12-31	27
472	60	2007-01-01	2007-12-31	28
472	60	2008-01-01	2008-12-31	29
472	60	2009-01-01	2009-12-31	30
218	60	1990-01-01	1990-12-31	31
218	60	1991-01-01	1991-12-31	32
218	60	1992-01-01	1992-12-31	33
218	60	1993-01-01	1993-12-31	34
218	60	1994-01-01	1994-12-31	35
218	60	1995-01-01	1995-12-31	36
218	60	1996-01-01	1996-12-31	37
218	60	1997-01-01	1997-12-31	38
218	60	1998-01-01	1998-12-31	39
218	60	1999-01-01	1999-12-31	40
218	60	2000-01-01	2000-12-31	41
218	60	2001-01-01	2001-12-31	42
218	60	2002-01-01	2002-12-31	43
218	60	2003-01-01	2003-12-31	44
218	60	2004-01-01	2004-12-31	45
218	60	2005-01-01	2005-12-31	46
218	60	2006-01-01	2006-12-31	47
218	60	2007-01-01	2007-12-31	48
218	60	2008-01-01	2008-12-31	49
218	60	2009-01-01	2009-12-31	50
218	60	2010-01-01	2010-12-31	51
218	60	2011-01-01	2011-12-31	52
218	60	2012-01-01	2012-12-31	53
218	60	2013-01-01	2013-12-31	54
218	60	2014-01-01	2014-12-31	55
218	60	2015-01-01	2015-12-31	56
218	60	2016-01-01	2016-12-31	57
218	60	2017-01-01	2017-12-31	58
218	60	2018-01-01	2018-12-31	59
218	60	2019-01-01	2019-12-31	60
426	60	2023-07-06	2023-12-31	61
439	60	2023-07-06	2023-12-31	62
459	60	2023-07-06	2023-12-31	63
219	60	2023-07-06	2023-12-31	64
352	60	2023-07-06	2023-12-31	65
332	60	2023-07-06	2023-12-31	66
467	60	2023-07-06	2023-12-31	67
463	60	2023-07-06	2023-12-31	68
346	60	2023-07-06	2023-12-31	69
470	60	2023-07-06	2023-12-31	70
426	60	2020-01-01	2020-06-30	71
439	60	2020-01-01	2020-06-30	72
459	60	2020-01-01	2020-06-30	73
219	60	2020-01-01	2020-06-30	74
352	60	2020-01-01	2020-06-30	75
332	60	2020-01-01	2020-06-30	76
467	60	2020-01-01	2020-06-30	77
463	60	2020-01-01	2020-06-30	78
346	60	2020-01-01	2020-06-30	79
470	60	2020-01-01	2020-06-30	80
426	60	2019-01-01	2019-06-30	81
439	60	2019-01-01	2019-06-30	82
459	60	2019-01-01	2019-06-30	83
219	60	2019-01-01	2019-06-30	84
352	60	2019-01-01	2019-06-30	85
332	60	2019-01-01	2019-06-30	86
467	60	2019-01-01	2019-06-30	87
463	60	2019-01-01	2019-06-30	88
346	60	2019-01-01	2019-06-30	89
470	60	2019-01-01	2019-06-30	90
467	\N	2020-01-01	2020-12-31	91
218	60	2020-09-01	2020-12-31	92
472	60	2020-09-01	2020-12-31	93
426	60	2020-09-01	2020-12-31	94
219	60	2020-09-01	2020-12-31	95
459	60	2020-09-01	2020-12-31	96
332	60	2020-09-01	2020-12-31	97
439	60	2020-09-01	2020-12-31	98
459	60	2020-09-01	2020-12-31	99
219	60	2020-09-01	2020-12-31	100
470	60	2020-09-01	2020-12-31	101
463	60	2020-09-01	2020-12-31	102
426	60	2020-09-01	2020-12-31	103
\.


--
-- Data for Name: oferecimento_aluno; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oferecimento_aluno (id_oferecimento, id_aluno) FROM stdin;
1	2000001
1	2000002
1	2000003
1	2000004
1	2000005
1	2000006
1	2000007
1	2000008
1	2000009
1	2000010
1	2000011
1	2000012
1	2000013
1	2000014
1	2000015
1	2000016
1	2000017
1	2000018
1	2000019
1	2000020
1	2000021
1	2000022
1	2000023
1	2000024
1	2000025
1	2000026
1	2000027
1	2000028
1	2000029
1	2000030
2	2000001
2	2000002
2	2000003
2	2000004
2	2000005
2	2000006
2	2000007
2	2000008
2	2000009
2	2000010
2	2000011
2	2000012
2	2000013
2	2000014
2	2000015
2	2000016
2	2000017
2	2000018
2	2000019
2	2000020
2	2000021
2	2000022
2	2000023
2	2000024
2	2000025
2	2000026
2	2000027
2	2000028
2	2000029
2	2000030
3	2000001
3	2000002
3	2000003
3	2000004
3	2000005
3	2000006
3	2000007
3	2000008
3	2000009
3	2000010
3	2000011
3	2000012
3	2000013
3	2000014
3	2000015
3	2000016
3	2000017
3	2000018
3	2000019
3	2000020
3	2000021
3	2000022
3	2000023
3	2000024
3	2000025
3	2000026
3	2000027
3	2000028
3	2000029
3	2000030
4	2000001
4	2000002
4	2000003
4	2000004
4	2000005
4	2000006
4	2000007
4	2000008
4	2000009
4	2000010
4	2000011
4	2000012
4	2000013
4	2000014
4	2000015
4	2000016
4	2000017
4	2000018
4	2000019
4	2000020
4	2000021
4	2000022
4	2000023
4	2000024
4	2000025
4	2000026
4	2000027
4	2000028
4	2000029
4	2000030
5	2000001
5	2000002
5	2000003
5	2000004
5	2000005
5	2000006
5	2000007
5	2000008
5	2000009
5	2000010
5	2000011
5	2000012
5	2000013
5	2000014
5	2000015
5	2000016
5	2000017
5	2000018
5	2000019
5	2000020
5	2000021
5	2000022
5	2000023
5	2000024
5	2000025
5	2000026
5	2000027
5	2000028
5	2000029
5	2000030
6	2000001
6	2000002
6	2000003
6	2000004
6	2000005
6	2000006
6	2000007
6	2000008
6	2000009
6	2000010
6	2000011
6	2000012
6	2000013
6	2000014
6	2000015
6	2000016
6	2000017
6	2000018
6	2000019
6	2000020
6	2000021
6	2000022
6	2000023
6	2000024
6	2000025
6	2000026
6	2000027
6	2000028
6	2000029
6	2000030
7	2000001
7	2000002
7	2000003
7	2000004
7	2000005
7	2000006
7	2000007
7	2000008
7	2000009
7	2000010
7	2000011
7	2000012
7	2000013
7	2000014
7	2000015
7	2000016
7	2000017
7	2000018
7	2000019
7	2000020
7	2000021
7	2000022
7	2000023
7	2000024
7	2000025
7	2000026
7	2000027
7	2000028
7	2000029
7	2000030
8	2000001
8	2000002
8	2000003
8	2000004
8	2000005
8	2000006
8	2000007
8	2000008
8	2000009
8	2000010
8	2000011
8	2000012
8	2000013
8	2000014
8	2000015
8	2000016
8	2000017
8	2000018
8	2000019
8	2000020
8	2000021
8	2000022
8	2000023
8	2000024
8	2000025
8	2000026
8	2000027
8	2000028
8	2000029
8	2000030
9	2000001
9	2000002
9	2000003
9	2000004
9	2000005
9	2000006
9	2000007
9	2000008
9	2000009
9	2000010
9	2000011
9	2000012
9	2000013
9	2000014
9	2000015
9	2000016
9	2000017
9	2000018
9	2000019
9	2000020
9	2000021
9	2000022
9	2000023
9	2000024
9	2000025
9	2000026
9	2000027
9	2000028
9	2000029
9	2000030
10	2000001
10	2000002
10	2000003
10	2000004
10	2000005
10	2000006
10	2000007
10	2000008
10	2000009
10	2000010
10	2000011
10	2000012
10	2000013
10	2000014
10	2000015
10	2000016
10	2000017
10	2000018
10	2000019
10	2000020
10	2000021
10	2000022
10	2000023
10	2000024
10	2000025
10	2000026
10	2000027
10	2000028
10	2000029
10	2000030
11	2000001
11	2000002
11	2000003
11	2000004
11	2000005
11	2000006
11	2000007
11	2000008
11	2000009
11	2000010
11	2000011
11	2000012
11	2000013
11	2000014
11	2000015
11	2000016
11	2000017
11	2000018
11	2000019
11	2000020
11	2000021
11	2000022
11	2000023
11	2000024
11	2000025
11	2000026
11	2000027
11	2000028
11	2000029
11	2000030
12	2000001
12	2000002
12	2000003
12	2000004
12	2000005
12	2000006
12	2000007
12	2000008
12	2000009
12	2000010
12	2000011
12	2000012
12	2000013
12	2000014
12	2000015
12	2000016
12	2000017
12	2000018
12	2000019
12	2000020
12	2000021
12	2000022
12	2000023
12	2000024
12	2000025
12	2000026
12	2000027
12	2000028
12	2000029
12	2000030
13	2000001
13	2000002
13	2000003
13	2000004
13	2000005
13	2000006
13	2000007
13	2000008
13	2000009
13	2000010
13	2000011
13	2000012
13	2000013
13	2000014
13	2000015
13	2000016
13	2000017
13	2000018
13	2000019
13	2000020
13	2000021
13	2000022
13	2000023
13	2000024
13	2000025
13	2000026
13	2000027
13	2000028
13	2000029
13	2000030
14	2000001
14	2000002
14	2000003
14	2000004
14	2000005
14	2000006
14	2000007
14	2000008
14	2000009
14	2000010
14	2000011
14	2000012
14	2000013
14	2000014
14	2000015
14	2000016
14	2000017
14	2000018
14	2000019
14	2000020
14	2000021
14	2000022
14	2000023
14	2000024
14	2000025
14	2000026
14	2000027
14	2000028
14	2000029
14	2000030
15	2000001
15	2000002
15	2000003
15	2000004
15	2000005
15	2000006
15	2000007
15	2000008
15	2000009
15	2000010
15	2000011
15	2000012
15	2000013
15	2000014
15	2000015
15	2000016
15	2000017
15	2000018
15	2000019
15	2000020
15	2000021
15	2000022
15	2000023
15	2000024
15	2000025
15	2000026
15	2000027
15	2000028
15	2000029
15	2000030
16	2000001
16	2000002
16	2000003
16	2000004
16	2000005
16	2000006
16	2000007
16	2000008
16	2000009
16	2000010
16	2000011
16	2000012
16	2000013
16	2000014
16	2000015
16	2000016
16	2000017
16	2000018
16	2000019
16	2000020
16	2000021
16	2000022
16	2000023
16	2000024
16	2000025
16	2000026
16	2000027
16	2000028
16	2000029
16	2000030
17	2000001
17	2000002
17	2000003
17	2000004
17	2000005
17	2000006
17	2000007
17	2000008
17	2000009
17	2000010
17	2000011
17	2000012
17	2000013
17	2000014
17	2000015
17	2000016
17	2000017
17	2000018
17	2000019
17	2000020
17	2000021
17	2000022
17	2000023
17	2000024
17	2000025
17	2000026
17	2000027
17	2000028
17	2000029
17	2000030
18	2000001
18	2000002
18	2000003
18	2000004
18	2000005
18	2000006
18	2000007
18	2000008
18	2000009
18	2000010
18	2000011
18	2000012
18	2000013
18	2000014
18	2000015
18	2000016
18	2000017
18	2000018
18	2000019
18	2000020
18	2000021
18	2000022
18	2000023
18	2000024
18	2000025
18	2000026
18	2000027
18	2000028
18	2000029
18	2000030
19	2000001
19	2000002
19	2000003
19	2000004
19	2000005
19	2000006
19	2000007
19	2000008
19	2000009
19	2000010
19	2000011
19	2000012
19	2000013
19	2000014
19	2000015
19	2000016
19	2000017
19	2000018
19	2000019
19	2000020
19	2000021
19	2000022
19	2000023
19	2000024
19	2000025
19	2000026
19	2000027
19	2000028
19	2000029
19	2000030
20	2000001
20	2000002
20	2000003
20	2000004
20	2000005
20	2000006
20	2000007
20	2000008
20	2000009
20	2000010
20	2000011
20	2000012
20	2000013
20	2000014
20	2000015
20	2000016
20	2000017
20	2000018
20	2000019
20	2000020
20	2000021
20	2000022
20	2000023
20	2000024
20	2000025
20	2000026
20	2000027
20	2000028
20	2000029
20	2000030
21	2000001
21	2000002
21	2000003
21	2000004
21	2000005
21	2000006
21	2000007
21	2000008
21	2000009
21	2000010
21	2000011
21	2000012
21	2000013
21	2000014
21	2000015
21	2000016
21	2000017
21	2000018
21	2000019
21	2000020
21	2000021
21	2000022
21	2000023
21	2000024
21	2000025
21	2000026
21	2000027
21	2000028
21	2000029
21	2000030
22	2000001
22	2000002
22	2000003
22	2000004
22	2000005
22	2000006
22	2000007
22	2000008
22	2000009
22	2000010
22	2000011
22	2000012
22	2000013
22	2000014
22	2000015
22	2000016
22	2000017
22	2000018
22	2000019
22	2000020
22	2000021
22	2000022
22	2000023
22	2000024
22	2000025
22	2000026
22	2000027
22	2000028
22	2000029
22	2000030
23	2000001
23	2000002
23	2000003
23	2000004
23	2000005
23	2000006
23	2000007
23	2000008
23	2000009
23	2000010
23	2000011
23	2000012
23	2000013
23	2000014
23	2000015
23	2000016
23	2000017
23	2000018
23	2000019
23	2000020
23	2000021
23	2000022
23	2000023
23	2000024
23	2000025
23	2000026
23	2000027
23	2000028
23	2000029
23	2000030
24	2000001
24	2000002
24	2000003
24	2000004
24	2000005
24	2000006
24	2000007
24	2000008
24	2000009
24	2000010
24	2000011
24	2000012
24	2000013
24	2000014
24	2000015
24	2000016
24	2000017
24	2000018
24	2000019
24	2000020
24	2000021
24	2000022
24	2000023
24	2000024
24	2000025
24	2000026
24	2000027
24	2000028
24	2000029
24	2000030
25	2000001
25	2000002
25	2000003
25	2000004
25	2000005
25	2000006
25	2000007
25	2000008
25	2000009
25	2000010
25	2000011
25	2000012
25	2000013
25	2000014
25	2000015
25	2000016
25	2000017
25	2000018
25	2000019
25	2000020
25	2000021
25	2000022
25	2000023
25	2000024
25	2000025
25	2000026
25	2000027
25	2000028
25	2000029
25	2000030
26	2000001
26	2000002
26	2000003
26	2000004
26	2000005
26	2000006
26	2000007
26	2000008
26	2000009
26	2000010
26	2000011
26	2000012
26	2000013
26	2000014
26	2000015
26	2000016
26	2000017
26	2000018
26	2000019
26	2000020
26	2000021
26	2000022
26	2000023
26	2000024
26	2000025
26	2000026
26	2000027
26	2000028
26	2000029
26	2000030
27	2000001
27	2000002
27	2000003
27	2000004
27	2000005
27	2000006
27	2000007
27	2000008
27	2000009
27	2000010
27	2000011
27	2000012
27	2000013
27	2000014
27	2000015
27	2000016
27	2000017
27	2000018
27	2000019
27	2000020
27	2000021
27	2000022
27	2000023
27	2000024
27	2000025
27	2000026
27	2000027
27	2000028
27	2000029
27	2000030
28	2000001
28	2000002
28	2000003
28	2000004
28	2000005
28	2000006
28	2000007
28	2000008
28	2000009
28	2000010
28	2000011
28	2000012
28	2000013
28	2000014
28	2000015
28	2000016
28	2000017
28	2000018
28	2000019
28	2000020
28	2000021
28	2000022
28	2000023
28	2000024
28	2000025
28	2000026
28	2000027
28	2000028
28	2000029
28	2000030
29	2000001
29	2000002
29	2000003
29	2000004
29	2000005
29	2000006
29	2000007
29	2000008
29	2000009
29	2000010
29	2000011
29	2000012
29	2000013
29	2000014
29	2000015
29	2000016
29	2000017
29	2000018
29	2000019
29	2000020
29	2000021
29	2000022
29	2000023
29	2000024
29	2000025
29	2000026
29	2000027
29	2000028
29	2000029
29	2000030
30	2000001
30	2000002
30	2000003
30	2000004
30	2000005
30	2000006
30	2000007
30	2000008
30	2000009
30	2000010
30	2000011
30	2000012
30	2000013
30	2000014
30	2000015
30	2000016
30	2000017
30	2000018
30	2000019
30	2000020
30	2000021
30	2000022
30	2000023
30	2000024
30	2000025
30	2000026
30	2000027
30	2000028
30	2000029
30	2000030
31	2000001
31	2000002
31	2000003
31	2000004
31	2000005
31	2000006
31	2000007
31	2000008
31	2000009
31	2000010
31	2000011
31	2000012
31	2000013
31	2000014
31	2000015
31	2000016
31	2000017
31	2000018
31	2000019
31	2000020
31	2000021
31	2000022
31	2000023
31	2000024
31	2000025
31	2000026
31	2000027
31	2000028
31	2000029
31	2000030
32	2000001
32	2000002
32	2000003
32	2000004
32	2000005
32	2000006
32	2000007
32	2000008
32	2000009
32	2000010
32	2000011
32	2000012
32	2000013
32	2000014
32	2000015
32	2000016
32	2000017
32	2000018
32	2000019
32	2000020
32	2000021
32	2000022
32	2000023
32	2000024
32	2000025
32	2000026
32	2000027
32	2000028
32	2000029
32	2000030
33	2000001
33	2000002
33	2000003
33	2000004
33	2000005
33	2000006
33	2000007
33	2000008
33	2000009
33	2000010
33	2000011
33	2000012
33	2000013
33	2000014
33	2000015
33	2000016
33	2000017
33	2000018
33	2000019
33	2000020
33	2000021
33	2000022
33	2000023
33	2000024
33	2000025
33	2000026
33	2000027
33	2000028
33	2000029
33	2000030
34	2000001
34	2000002
34	2000003
34	2000004
34	2000005
34	2000006
34	2000007
34	2000008
34	2000009
34	2000010
34	2000011
34	2000012
34	2000013
34	2000014
34	2000015
34	2000016
34	2000017
34	2000018
34	2000019
34	2000020
34	2000021
34	2000022
34	2000023
34	2000024
34	2000025
34	2000026
34	2000027
34	2000028
34	2000029
34	2000030
35	2000001
35	2000002
35	2000003
35	2000004
35	2000005
35	2000006
35	2000007
35	2000008
35	2000009
35	2000010
35	2000011
35	2000012
35	2000013
35	2000014
35	2000015
35	2000016
35	2000017
35	2000018
35	2000019
35	2000020
35	2000021
35	2000022
35	2000023
35	2000024
35	2000025
35	2000026
35	2000027
35	2000028
35	2000029
35	2000030
61	2000001
61	2000002
61	2000003
61	2000004
61	2000005
61	2000006
61	2000007
61	2000008
61	2000009
61	2000010
62	2000011
62	2000012
62	2000013
62	2000014
62	2000015
62	2000016
62	2000017
62	2000018
62	2000019
62	2000020
63	2000021
63	2000022
63	2000023
63	2000024
63	2000025
63	2000026
63	2000027
63	2000028
63	2000029
63	2000030
64	2000001
64	2000002
64	2000003
64	2000004
64	2000005
64	2000006
64	2000007
64	2000008
64	2000009
64	2000010
65	2000011
65	2000012
65	2000013
65	2000014
65	2000015
65	2000016
65	2000017
65	2000018
65	2000019
65	2000020
66	2000001
66	2000002
66	2000003
66	2000004
66	2000005
66	2000006
66	2000007
66	2000008
66	2000009
66	2000010
67	2000011
67	2000012
67	2000013
67	2000014
67	2000015
67	2000016
67	2000017
67	2000018
67	2000019
67	2000020
68	2000021
68	2000022
68	2000023
68	2000024
68	2000025
68	2000026
68	2000027
68	2000028
68	2000029
68	2000030
69	2000001
69	2000002
69	2000003
69	2000004
69	2000005
69	2000006
69	2000007
69	2000008
69	2000009
69	2000010
70	2000011
70	2000012
70	2000013
70	2000014
70	2000015
70	2000016
70	2000017
70	2000018
70	2000019
70	2000020
71	2000001
71	2000002
71	2000003
71	2000004
71	2000005
71	2000006
71	2000007
71	2000008
71	2000009
71	2000010
72	2000011
72	2000012
72	2000013
72	2000014
72	2000015
72	2000016
72	2000017
72	2000018
72	2000019
72	2000020
73	2000021
73	2000022
73	2000023
73	2000024
73	2000025
73	2000026
73	2000027
73	2000028
73	2000029
73	2000030
74	2000001
74	2000002
74	2000003
74	2000004
74	2000005
74	2000006
74	2000007
74	2000008
74	2000009
74	2000010
75	2000011
75	2000012
75	2000013
75	2000014
75	2000015
75	2000016
75	2000017
75	2000018
75	2000019
75	2000020
86	2000001
86	2000002
86	2000003
86	2000004
86	2000005
86	2000006
86	2000007
86	2000008
86	2000009
86	2000010
87	2000011
87	2000012
87	2000013
87	2000014
87	2000015
87	2000016
87	2000017
87	2000018
87	2000019
87	2000020
88	2000021
88	2000022
88	2000023
88	2000024
88	2000025
88	2000026
88	2000027
88	2000028
88	2000029
88	2000030
89	2000001
89	2000002
89	2000003
89	2000004
89	2000005
89	2000006
89	2000007
89	2000008
89	2000009
89	2000010
90	2000011
90	2000012
90	2000013
90	2000014
90	2000015
90	2000016
90	2000017
90	2000018
90	2000019
90	2000020
91	2000020
91	2000021
91	2000022
91	2000023
91	2000024
91	2000025
91	2000026
91	2000027
91	2000028
91	2000029
91	2000030
92	2000001
92	2000002
92	2000003
92	2000004
92	2000005
92	2000006
92	2000007
92	2000008
92	2000009
92	2000010
93	2000011
93	2000012
93	2000013
93	2000014
93	2000015
93	2000016
93	2000017
93	2000018
93	2000019
93	2000020
94	2000021
94	2000022
94	2000023
94	2000024
94	2000025
94	2000026
94	2000027
94	2000028
94	2000029
94	2000030
95	2000001
95	2000002
95	2000003
95	2000004
95	2000005
95	2000006
95	2000007
95	2000008
95	2000009
95	2000010
96	2000011
96	2000012
96	2000013
96	2000014
96	2000015
96	2000016
96	2000017
96	2000018
96	2000019
96	2000020
97	2000011
97	2000012
97	2000013
97	2000014
97	2000015
97	2000016
97	2000017
97	2000018
97	2000019
97	2000020
98	2000021
98	2000022
98	2000023
98	2000024
98	2000025
98	2000026
98	2000027
98	2000028
98	2000029
98	2000030
99	2000001
99	2000002
99	2000003
99	2000004
99	2000005
99	2000006
99	2000007
99	2000008
99	2000009
99	2000010
100	2000011
100	2000012
100	2000013
100	2000014
100	2000015
100	2000016
100	2000017
100	2000018
100	2000019
100	2000020
101	2000021
101	2000022
101	2000023
101	2000024
101	2000025
101	2000026
101	2000027
101	2000028
101	2000029
101	2000030
102	2000021
102	2000022
102	2000023
102	2000024
102	2000025
102	2000026
102	2000027
102	2000028
102	2000029
102	2000030
103	2000021
103	2000022
103	2000023
103	2000024
103	2000025
103	2000026
103	2000027
103	2000028
103	2000029
103	2000030
\.


--
-- Data for Name: oferecimento_docente; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.oferecimento_docente (id_oferecimento, id_docente) FROM stdin;
1	1000001
2	1000002
2	1000003
3	1000003
4	1000004
4	1000003
5	1000005
6	1000001
7	1000002
8	1000003
9	1000004
9	1000001
10	1000005
11	1000001
12	1000002
12	1000001
13	1000003
14	1000004
15	1000005
16	1000001
17	1000002
18	1000003
19	1000004
20	1000005
21	1000001
22	1000002
22	1000005
23	1000003
24	1000004
24	1000005
25	1000005
26	1000001
27	1000002
28	1000003
29	1000004
30	1000005
30	1000004
31	1000001
32	1000002
33	1000003
34	1000004
35	1000005
35	1000001
36	1000002
37	1000003
38	1000004
39	1000005
40	1000001
41	1000002
42	1000003
43	1000004
44	1000005
45	1000001
46	1000002
47	1000003
48	1000004
49	1000005
50	1000001
51	1000002
52	1000003
53	1000004
54	1000005
55	1000001
56	1000002
57	1000003
58	1000004
59	1000005
60	1000001
61	1000002
62	1000003
63	1000004
64	1000005
65	1000001
66	1000002
67	1000003
68	1000004
69	1000005
70	1000001
71	1000002
72	1000003
73	1000004
74	1000005
75	1000001
76	1000002
77	1000003
78	1000004
79	1000005
80	1000001
81	1000002
82	1000003
83	1000004
84	1000005
85	1000001
86	1000002
87	1000003
88	1000004
89	1000005
90	1000001
91	1000006
92	1000001
93	1000001
94	1000001
95	1000002
96	1000002
97	1000003
98	1000003
99	1000004
100	1000004
101	1000005
102	1000005
103	1000006
\.


--
-- Data for Name: perfil; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.perfil (id_perfil, nome_perfil, codigo_perfil) FROM stdin;
1000001	docente	DOC
3000001	funcionario	FUNC
2000001	aluno	ALUNO
\.


--
-- Data for Name: perfil_servico; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.perfil_servico (perfil_id, servico_id, codigo_servico, nome_perfil, id_registro) FROM stdin;
1000001	0	000	docente	1
3000001	1	001	funcionario	2
2000001	2	002	aluno	3
\.


--
-- Data for Name: pessoa; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.pessoa (id_pessoa, cpf, nome, endereco, instituicao, data_de_nascimento, senha, tipo_pessoa) FROM stdin;
1000001	11111111111	João Silva	Endereço 1	IME-USP	1980-01-01	senha123	docente
1000002	22222222222	Maria Santos	Endereço 2	IME-USP	1982-01-01	senha123	docente
1000003	33333333333	Pedro Oliveira	Endereço 3	IME-USP	1984-01-01	senha123	docente
1000004	44444444444	Ana Souza	Endereço 4	IME-USP	1986-01-01	senha123	docente
1000005	55555555555	Lucas Pereira	Endereço 5	IME-USP	1988-01-01	senha123	docente
2000001	66666666666	Larissa Oliveira	Endereço 1	IME-USP	1995-01-01	senha123	aluno
2000002	77777777777	Rafael Santos	Endereço 2	IME-USP	1997-01-01	senha123	aluno
2000003	88888888888	Carolina Lima	Endereço 3	IME-USP	1999-01-01	senha123	aluno
2000004	99999999999	Bruno Fernandes	Endereço 4	IME-USP	2001-01-01	senha123	aluno
2000005	10101010101	Amanda Silva	Endereço 5	IME-USP	2003-01-01	senha123	aluno
3000001	11111111110	Carlos Oliveira	Endereço 1	IME-USP	1980-01-01	senha123	funcionário
3000002	22222222220	Juliana Santos	Endereço 2	IME-USP	1982-01-01	senha123	funcionário
3000003	33333333330	Fernando Lima	Endereço 3	IME-USP	1984-01-01	senha123	funcionário
3000004	44444444440	Mariana Fernandes	Endereço 4	IME-USP	1986-01-01	senha123	funcionário
3000005	55555555550	Patrícia Silva	Endereço 5	IME-USP	1988-01-01	senha123	funcionário
2000006	12121212121	Fernanda Oliveira	Endereço 6	IME-USP	1995-02-01	senha123	aluno
2000007	13131313131	André Santos	Endereço 7	IME-USP	1997-02-01	senha123	aluno
2000008	14141414141	Camila Lima	Endereço 8	IME-USP	1999-02-01	senha123	aluno
2000009	15151515151	Rafaela Fernandes	Endereço 9	IME-USP	2001-02-01	senha123	aluno
2000010	16161616161	Paulo Silva	Endereço 10	IME-USP	2003-02-01	senha123	aluno
2000011	17171717171	Marina Oliveira	Endereço 11	IME-USP	1995-03-01	senha123	aluno
2000012	18181818181	Rodrigo Santos	Endereço 12	IME-USP	1997-03-01	senha123	aluno
2000013	19191919191	Beatriz Lima	Endereço 13	IME-USP	1999-03-01	senha123	aluno
2000014	20202020202	Lucas Fernandes	Endereço 14	IME-USP	2001-03-01	senha123	aluno
2000015	21212121212	Isabela Silva	Endereço 15	IME-USP	2003-03-01	senha123	aluno
2000016	22222222222	Mariana Oliveira	Endereço 16	IME-USP	1995-04-01	senha123	aluno
2000017	23232323232	Gustavo Santos	Endereço 17	IME-USP	1997-04-01	senha123	aluno
2000018	24242424242	Letícia Lima	Endereço 18	IME-USP	1999-04-01	senha123	aluno
2000019	25252525252	Fernando Fernandes	Endereço 19	IME-USP	2001-04-01	senha123	aluno
2000020	26262626262	Carolina Silva	Endereço 20	IME-USP	2003-04-01	senha123	aluno
2000021	27272727272	Rafael Oliveira	Endereço 21	IME-USP	1995-05-01	senha123	aluno
2000022	28282828282	Juliana Santos	Endereço 22	IME-USP	1997-05-01	senha123	aluno
2000023	29292929292	Luis Lima	Endereço 23	IME-USP	1999-05-01	senha123	aluno
2000024	30303030303	Fernanda Fernandes	Endereço 24	IME-USP	2001-05-01	senha123	aluno
2000025	31313131313	Gabriela Silva	Endereço 25	IME-USP	2003-05-01	senha123	aluno
2000026	32323232323	Henrique Oliveira	Endereço 26	IME-USP	1995-06-01	senha123	aluno
2000027	33333333333	Amanda Santos	Endereço 27	IME-USP	1997-06-01	senha123	aluno
2000028	34343434343	Lucas Lima	Endereço 28	IME-USP	1999-06-01	senha123	aluno
2000029	35353535353	Carla Fernandes	Endereço 29	IME-USP	2001-06-01	senha123	aluno
2000030	36363636363	Marcela Silva	Endereço 30	IME-USP	2003-06-01	senha123	aluno
1000006	12345678901	Lívia	Endereço da Lívia	IME-USP	1990-01-01	senha123	docente
\.


--
-- Data for Name: servico; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.servico (id_serv, codigo_serv, descricao, tipo_servico) FROM stdin;
0	000	Ministrar Disciplina	inserção
1	001	Criar Oferecimento de Disciplina	inserção
2	002	Matricula Discente	inserção
\.


--
-- Name: oferecimento_id_oferecimento_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.oferecimento_id_oferecimento_seq', 3, true);


--
-- Name: perfil_servico_id_registro_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.perfil_servico_id_registro_seq', 1, false);


--
-- Name: disciplina disciplina_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.disciplina
    ADD CONSTRAINT disciplina_pkey PRIMARY KEY (id_disciplina);


--
-- Name: historicops historicops_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.historicops
    ADD CONSTRAINT historicops_pkey PRIMARY KEY (id_pessoa, id_registro);


--
-- Name: oferecimento_aluno oferecimento_aluno_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento_aluno
    ADD CONSTRAINT oferecimento_aluno_pkey PRIMARY KEY (id_oferecimento, id_aluno);


--
-- Name: oferecimento_docente oferecimento_docente_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento_docente
    ADD CONSTRAINT oferecimento_docente_pkey PRIMARY KEY (id_oferecimento, id_docente);


--
-- Name: oferecimento oferecimento_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento
    ADD CONSTRAINT oferecimento_pkey PRIMARY KEY (id_oferecimento);


--
-- Name: aluno perfil_aluno_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.aluno
    ADD CONSTRAINT perfil_aluno_pkey PRIMARY KEY (id_aluno);


--
-- Name: docente perfil_docente_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.docente
    ADD CONSTRAINT perfil_docente_pkey PRIMARY KEY (id_docente);


--
-- Name: funcionario perfil_funcionario_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.funcionario
    ADD CONSTRAINT perfil_funcionario_pkey PRIMARY KEY (id_funcionario);


--
-- Name: perfil perfil_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.perfil
    ADD CONSTRAINT perfil_pkey PRIMARY KEY (id_perfil);


--
-- Name: perfil_servico perfil_servico_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.perfil_servico
    ADD CONSTRAINT perfil_servico_pkey PRIMARY KEY (id_registro);


--
-- Name: pessoa pessoa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pessoa
    ADD CONSTRAINT pessoa_pkey PRIMARY KEY (id_pessoa);


--
-- Name: servico servicos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.servico
    ADD CONSTRAINT servicos_pkey PRIMARY KEY (id_serv);


--
-- Name: perfil_servico controle_acesso; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER controle_acesso BEFORE INSERT OR UPDATE ON public.perfil_servico FOR EACH ROW EXECUTE FUNCTION public.verificar_autorizacao();


--
-- Name: perfil_servico trigger_historicops; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER trigger_historicops AFTER INSERT OR DELETE ON public.perfil_servico FOR EACH ROW EXECUTE FUNCTION public.registrar_historico();


--
-- Name: disciplina disciplina_id_coordenador_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.disciplina
    ADD CONSTRAINT disciplina_id_coordenador_fkey FOREIGN KEY (id_coordenador) REFERENCES public.docente(id_docente);


--
-- Name: historicops historicops_id_pessoa_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.historicops
    ADD CONSTRAINT historicops_id_pessoa_fkey FOREIGN KEY (id_pessoa) REFERENCES public.pessoa(id_pessoa);


--
-- Name: oferecimento_aluno oferecimento_aluno_id_aluno_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento_aluno
    ADD CONSTRAINT oferecimento_aluno_id_aluno_fkey FOREIGN KEY (id_aluno) REFERENCES public.aluno(id_aluno);


--
-- Name: oferecimento_aluno oferecimento_aluno_id_oferecimento_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento_aluno
    ADD CONSTRAINT oferecimento_aluno_id_oferecimento_fkey FOREIGN KEY (id_oferecimento) REFERENCES public.oferecimento(id_oferecimento);


--
-- Name: oferecimento_docente oferecimento_docente_id_docente_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento_docente
    ADD CONSTRAINT oferecimento_docente_id_docente_fkey FOREIGN KEY (id_docente) REFERENCES public.docente(id_docente);


--
-- Name: oferecimento_docente oferecimento_docente_id_oferecimento_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento_docente
    ADD CONSTRAINT oferecimento_docente_id_oferecimento_fkey FOREIGN KEY (id_oferecimento) REFERENCES public.oferecimento(id_oferecimento);


--
-- Name: oferecimento oferecimento_id_disciplina_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.oferecimento
    ADD CONSTRAINT oferecimento_id_disciplina_fkey FOREIGN KEY (id_disciplina) REFERENCES public.disciplina(id_disciplina);


--
-- Name: aluno perfil_aluno_id_aluno_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.aluno
    ADD CONSTRAINT perfil_aluno_id_aluno_fkey FOREIGN KEY (id_aluno) REFERENCES public.pessoa(id_pessoa);


--
-- Name: docente perfil_docente_id_docente_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.docente
    ADD CONSTRAINT perfil_docente_id_docente_fkey FOREIGN KEY (id_docente) REFERENCES public.pessoa(id_pessoa);


--
-- Name: funcionario perfil_funcionario_id_funcionario_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.funcionario
    ADD CONSTRAINT perfil_funcionario_id_funcionario_fkey FOREIGN KEY (id_funcionario) REFERENCES public.pessoa(id_pessoa);


--
-- Name: perfil_servico perfil_servico_perfil_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.perfil_servico
    ADD CONSTRAINT perfil_servico_perfil_id_fkey FOREIGN KEY (perfil_id) REFERENCES public.perfil(id_perfil);


--
-- Name: perfil_servico perfil_servico_servico_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.perfil_servico
    ADD CONSTRAINT perfil_servico_servico_id_fkey FOREIGN KEY (servico_id) REFERENCES public.servico(id_serv);


--
-- PostgreSQL database dump complete
--

